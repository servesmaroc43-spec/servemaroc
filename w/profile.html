<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servemaroc | البروفايل</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg: #ffffff;
            --text: #000000;
            --card: #ffffff;
            --border: #000000;
            --input-bg: #f9f9f9;
        }

        .dark-mode {
            --bg: #000000;
            --text: #ffffff;
            --card: #121212;
            --border: #ffffff;
            --input-bg: #1e1e1e;
        }

        body { 
            background-color: var(--bg); 
            color: var(--text); 
            transition: 0.4s ease; 
            font-family: sans-serif; 
        }

        .back-link {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 8px;
            font-weight: 900;
            margin-top: 10px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .profile-header {
            background: #ffea00;
            height: 140px;
            border: 3.5px solid #000;
            border-radius: 35px;
            position: relative;
            margin-bottom: 60px;
            box-shadow: 8px 8px 0px #000;
        }

        .avatar-box {
            position: absolute;
            bottom: -45px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            border: 3.5px solid #000;
            border-radius: 25px;
            overflow: hidden;
            background: #fff;
        }

        .card-neo { 
            background: var(--card); 
            border: 3.5px solid var(--border); 
            border-radius: 40px; 
            padding: 25px; 
            box-shadow: 10px 10px 0px rgba(0,0,0,0.1);
        }

        .neo-input { 
            width: 100%; 
            border: 2.5px solid var(--border); 
            border-radius: 18px; 
            padding: 14px; 
            margin-bottom: 15px; 
            background: var(--input-bg); 
            color: var(--text); 
            text-align: center; 
            font-weight: 800;
            outline: none;
        }

        /* الجيميل يجي كبير */
        .email-box {
            font-size: 1.1rem;
            letter-spacing: 0.5px;
            border-width: 3px;
        }

        .btn-save { 
            background: #ffea00; 
            color: #000; 
            border: 3.5px solid #000; 
            border-radius: 20px; 
            padding: 16px; 
            width: 100%; 
            font-weight: 900; 
            font-size: 1.2rem; 
            box-shadow: 6px 6px 0px #000;
        }

        .gender-select {
            background: #000;
            color: #fff;
            border-radius: 20px;
            padding: 8px 25px;
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 0.9rem;
            margin-bottom: 25px;
            font-weight: bold;
        }
    </style>
</head>
<body class="p-4">

    <a href="index.html" class="back-link">
        العودة <i class="fas fa-arrow-left"></i>
    </a>

    <div class="profile-header">
        <div class="avatar-box">
            <img id="profile-img" src="https://i.ibb.co/LhCJ7SjR/image.png" class="w-full h-full object-cover">
        </div>
    </div>

    <div class="flex justify-center">
        <div class="gender-select">
            <span onclick="setGender('male')" class="cursor-pointer opacity-50" id="m-btn">♂ ذكر</span>
            <span>|</span>
            <span onclick="setGender('female')" class="cursor-pointer opacity-50" id="f-btn">♀ أنثى</span>
        </div>
    </div>

    <div class="card-neo">
        <input type="email" value="hafidbel2004@gmail.com" class="neo-input email-box mb-6" readonly>
        
        <div class="relative mb-6">
            <hr class="border-t-2 border-dashed border-gray-400">
            <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black text-white px-4 py-1 rounded-full text-[10px] italic font-black">Servemaroc Update</span>
        </div>

        <input type="password" id="current-pass" placeholder="كلمة المرور الحالية" class="neo-input">
        <input type="password" id="new-pass" placeholder="كلمة المرور الجديدة" class="neo-input">

        <button onclick="saveData()" class="btn-save active:translate-y-1 transition-transform">حفظ البيانات</button>
    </div>

    <script>
        function setGender(type) {
            const img = document.getElementById('profile-img');
            const mBtn = document.getElementById('m-btn');
            const fBtn = document.getElementById('f-btn');

            if(type === 'male') {
                img.src = "https://i.ibb.co/wZ6S6S0X/image.png"; 
                mBtn.style.opacity = "1";
                fBtn.style.opacity = "0.5";
            } else {
                img.src = "https://i.ibb.co/LhCJ7SjR/image.png"; 
                fBtn.style.opacity = "1";
                mBtn.style.opacity = "0.5";
            }
            localStorage.setItem('savedAvatar', img.src);
        }

        function saveData() {
            const newPass = document.getElementById('new-pass').value;
            if(newPass) {
                localStorage.setItem('userPassword', newPass); // حفظ كلمة السر
                alert('تم تحديث البيانات بنجاح! ✅');
            } else {
                alert('المرجو إدخال كلمة المرور الجديدة');
            }
        }

        window.onload = function() {
            if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark-mode');
            
            const savedAvatar = localStorage.getItem("savedAvatar");
            if (savedAvatar) {
                document.getElementById("profile-img").src = savedAvatar;
                if(savedAvatar.includes("wZ6S6S0X")) {
                    document.getElementById('m-btn').style.opacity = "1";
                } else {
                    document.getElementById('f-btn').style.opacity = "1";
                }
            }
        };
    </script>
</body>
</html>
